<Window x:Class="WallYouNeed.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:local="clr-namespace:WallYouNeed.App"
        mc:Ignorable="d"
        Title="Wall-You-Need" 
        Height="800" 
        Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="CanResizeWithGrip"
        Background="#212121"
        BorderThickness="1"
        Icon="/Assets/logo.png"
        BorderBrush="#333333">

    <Window.Resources>
        <!-- Nav button style -->
        <Style x:Key="NavButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="52"/>
            <Setter Property="Height" Value="60"/>
            <Setter Property="Margin" Value="0,4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Border x:Name="MainBorder" Background="Transparent">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <ContentPresenter x:Name="ButtonContent" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    <TextBlock x:Name="ButtonText" 
                                               Text="{TemplateBinding Tag}" 
                                               FontSize="10" 
                                               Foreground="#666666"
                                               HorizontalAlignment="Center" 
                                               Margin="0,4,0,0"/>
                                </StackPanel>
                        </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonText" Property="Foreground" Value="#333333"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Active nav button style -->
        <Style x:Key="ActiveNavButton" TargetType="Button" BasedOn="{StaticResource NavButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Border x:Name="MainBorder" Background="Transparent">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <Border Width="4" Height="20" Background="#FF0000" HorizontalAlignment="Left" Margin="-24,0,0,0" CornerRadius="0,2,2,0"/>
                                    <ContentPresenter x:Name="ButtonContent" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    <TextBlock x:Name="ButtonText" 
                                               Text="{TemplateBinding Tag}" 
                                               FontSize="10" 
                                               Foreground="#FF0000"
                                               HorizontalAlignment="Center" 
                                               Margin="0,4,0,0"
                                               FontWeight="SemiBold"/>
                                </StackPanel>
                        </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Search box style -->
        <Style x:Key="SearchBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                SnapsToDevicePixels="True">
                            <ScrollViewer x:Name="PART_ContentHost" Focusable="false" 
                                          HorizontalScrollBarVisibility="Hidden" 
                                          VerticalScrollBarVisibility="Hidden"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Resize grip style -->
        <Style x:Key="ResizeGripStyle" TargetType="Rectangle">
            <Setter Property="Fill" Value="Transparent"/>
            <Setter Property="Opacity" Value="0"/>
        </Style>
    </Window.Resources>

    <!-- Main Window Content -->
    <Grid>
        <Border BorderBrush="#EEEEEE" BorderThickness="1">
            <Grid>
                <!-- Custom Title Bar with Search -->
                <Grid Height="52" VerticalAlignment="Top" Background="#212121" Margin="0,0,0,0" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- App Logo and Title -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="12,0,0,0" VerticalAlignment="Center">
                        <Image Source="/Assets/logo.png" Height="24" Width="24" Margin="0,0,8,0"/>
                        <TextBlock Text="Wall-You-Need" FontWeight="SemiBold" FontSize="16" Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Search Box (Center-aligned) -->
                    <Grid Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,0,0,0">
                        <Border Background="#383838" CornerRadius="5" Width="300" Height="32">
                            <Grid>
                                <!-- Search Text Input -->
                                <TextBox x:Name="SearchBox" 
                                         BorderThickness="0" 
                                         Background="Transparent" 
                                         Padding="8,6,80,6" 
                                         Text="Search..." 
                                         Foreground="#999999" 
                                         CaretBrush="White"
                                         SelectionBrush="#666666"
                                         VerticalContentAlignment="Center"/>
                                
                                <!-- Clear (X) Button -->
                                <Border x:Name="ClearButtonBorder" 
                                        Width="32" Height="24" 
                                        Background="Transparent" 
                                        CornerRadius="3"
                                        Margin="0,0,42,0" 
                                        VerticalAlignment="Center" 
                                        HorizontalAlignment="Right"
                                        Visibility="Collapsed"
                                        Panel.ZIndex="10">
                                    <Button x:Name="ClearSearchButton"
                                            Width="32" Height="24"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            Cursor="Hand"
                                            ToolTip="Clear search"
                                            Padding="0">
                                        <Button.Style>
                                            <Style TargetType="Button">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Button">
                                                            <Border x:Name="ButtonBorder" 
                                                                    Background="Transparent" 
                                                                    CornerRadius="3"
                                                                    BorderThickness="0">
                                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#505050"/>
                                                                </Trigger>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#606060"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Button.Style>
                                        <Path Data="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" 
                                              Fill="White" 
                                              Width="12" 
                                              Height="12"
                                              Stretch="Uniform"/>
                                    </Button>
                                </Border>
                                
                                <!-- Search Button -->
                                <Border x:Name="SearchButtonBorder"
                                        Width="32" Height="24"
                                        Background="Transparent"
                                        CornerRadius="3"
                                        Margin="0,0,8,0"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Panel.ZIndex="10">
                                    <Button x:Name="SearchButton"
                                            Width="32" Height="24"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            Cursor="Hand"
                                            ToolTip="Search"
                                            Padding="0">
                                        <Button.Style>
                                            <Style TargetType="Button">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Button">
                                                            <Border x:Name="ButtonBorder" 
                                                                    Background="Transparent" 
                                                                    CornerRadius="3"
                                                                    BorderThickness="0">
                                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#505050"/>
                                                                </Trigger>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#606060"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Button.Style>
                                        <Path Data="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" 
                                              Fill="White" 
                                              Width="14" 
                                              Height="14"
                                              Stretch="Uniform"/>
                                    </Button>
                                </Border>
                            </Grid>
                        </Border>
                    </Grid>
                    
                    <!-- Window Controls (minimize, maximize, close) -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button x:Name="MinimizeButton" Content="—" Width="46" Height="30" Foreground="White" Background="Transparent" BorderThickness="0" Click="MinimizeButton_Click"/>
                        <Button x:Name="MaximizeButton" Content="□" Width="46" Height="30" Foreground="White" Background="Transparent" BorderThickness="0" Click="MaximizeButton_Click"/>
                        <Button x:Name="CloseButton" Content="✕" Width="46" Height="30" Foreground="White" Background="Transparent" BorderThickness="0" Click="CloseButton_Click"/>
                    </StackPanel>
                </Grid>

                <!-- Main Content Area -->
                <Grid Margin="0,52,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left Navigation Bar -->
                    <Border Grid.Column="0" Background="White" BorderThickness="0,0,1,0" BorderBrush="#EEEEEE">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- Navigation Items -->
                            <StackPanel Grid.Row="0" Margin="0,12,0,0">
                                <!-- Home (Active) -->
                                <Button x:Name="HomeButton" Style="{StaticResource ActiveNavButton}" Tag="Home" Click="HomeButton_Click">
                                    <Path Data="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z" Fill="#FF0000" Width="24" Height="24"/>
                                </Button>

                                <!-- Latest Wallpapers Button -->
                                <Button x:Name="TestGridButton" 
                                        Style="{StaticResource NavButton}" 
                                        Click="TestGridButton_Click"
                                        Tag="Latest Wallpapers">
                                    <Path Data="M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z" 
                                          Fill="#666666"
                                          Width="24" 
                                          Height="24"/>
                                </Button>

                                <!-- Collections -->
                                <Button x:Name="CollectionButton" Style="{StaticResource NavButton}" Tag="Collections" Click="CollectionButton_Click">
                                    <Path Data="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" Fill="#666666" Width="24" Height="24"/>
                                </Button>

                                <!-- AI Generated -->
                                <Button Style="{StaticResource NavButton}" Tag="AI Generated">
                                    <Border Width="24" Height="24" Background="#F3F3F3" CornerRadius="4">
                                        <TextBlock Text="AI" FontWeight="SemiBold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#666666"/>
                                    </Border>
                                </Button>
                                
                                <!-- Personal -->
                                <Button Style="{StaticResource NavButton}" Tag="Personal">
                                    <Path Data="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                                
                                <!-- Slideshow -->
                                <Button Style="{StaticResource NavButton}" Tag="Slideshow">
                                    <Path Data="M13,17H19V15H13V17M11,17V15H5V17H11M5,14H11V12H5V14M13,14H19V12H13V14M5,11H11V9H5V11M13,11H19V9H13V11M20,8H4A1,1 0 0,0 3,9V18A1,1 0 0,0 4,19H20A1,1 0 0,0 21,18V9A1,1 0 0,0 20,8M20,6A2,2 0 0,1 22,8V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V8A2,2 0 0,1 4,6H8V4H12V6H16V4H20V6Z" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                                
                                <!-- Interactive Slideshow -->
                                <Button Style="{StaticResource NavButton}" Tag="Interactive">
                                    <Path Data="M13,17H5C3.89,17 3,16.1 3,15V5C3,3.89 3.89,3 5,3H19A2,2 0 0,1 21,5V11.81C20.39,11.46 19.72,11.24 19,11.11V5H5V15H13.81C13.46,15.61 13.24,16.28 13.11,17M12,10C13.1,10 14,10.9 14,12C14,13.11 13.1,14 12,14C10.89,14 10,13.11 10,12C10,10.9 10.89,10 12,10M22,13H20V7H18V13H16L19,16" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                                
                                <!-- Widgets -->
                                <Button Style="{StaticResource NavButton}" Tag="Widgets">
                                    <Path Data="M3,3H11V7.5H3V3M13,3H21V9H13V3M3,9.5H11V13.5H3V9.5M13,10.5H21V13.5H13V10.5M3,15H11V19H3V15M13,15H21V19H13V15" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                                
                                <!-- Upload Wallpaper -->
                                <Button Style="{StaticResource NavButton}" Tag="Upload wallpapers">
                                    <Path Data="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                                
                                <!-- Backiee Content Button -->
                                <Button x:Name="BackieeContentButton" Style="{StaticResource NavButton}" Tag="Backiee Content" Click="BackieeContentButton_Click">
                                    <Path Data="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                                
                                <!-- Infinite Wallpaper Button -->
                                <Button x:Name="InfiniteWallpaperButton" Style="{StaticResource NavButton}" Tag="Infinite Wallpapers" Click="InfiniteWallpaperButton_Click">
                                    <Path Data="M19,18H9A2,2 0 0,1 7,16V4A2,2 0 0,1 9,2H19A2,2 0 0,1 21,4V16A2,2 0 0,1 19,18M19,16V4H9V16H19M3,6H5V18H15V20H5A2,2 0 0,1 3,18V6M11,9A1,1 0 0,1 12,8A1,1 0 0,1 13,9A1,1 0 0,1 12,10A1,1 0 0,1 11,9M15,9A1,1 0 0,1 16,8A1,1 0 0,1 17,9A1,1 0 0,1 16,10A1,1 0 0,1 15,9Z" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                            </StackPanel>
                            
                            <!-- Bottom Options -->
                            <StackPanel Grid.Row="1" Margin="0,0,0,12">
                                <!-- Account -->
                                <Button Style="{StaticResource NavButton}" Tag="My account">
                                    <Border Width="24" Height="24" Background="#FF0000" CornerRadius="12">
                                        <TextBlock Text="B" FontWeight="SemiBold" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
                                    </Border>
                                </Button>

                                <!-- Settings -->
                                <Button x:Name="SettingsButton" Style="{StaticResource NavButton}" Tag="Settings" Click="SettingsButton_Click">
                                    <Path Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" Fill="#666666" Width="24" Height="24"/>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Border>
                        
                    <!-- Main Content Frame -->
                    <Frame Grid.Column="1" x:Name="ContentFrame" NavigationUIVisibility="Hidden" Background="#FFFFFF"/>
                </Grid>

                <!-- Snackbar Presenter -->
                <ui:SnackbarPresenter x:Name="SnackbarPresenter" />
            </Grid>
        </Border>
    </Grid>
</Window> 